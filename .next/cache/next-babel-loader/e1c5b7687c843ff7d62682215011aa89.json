{"ast":null,"code":"var _jsxFileName = \"/Users/mullens/corona/pages/index.tsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport fetch from 'isomorphic-unfetch';\nimport { Charts, ChartContainer, ChartRow, YAxis, Resizable, BarChart } from \"react-timeseries-charts\";\nimport { TimeSeries, Index as PondIndex } from \"pondjs\";\n\nconst ChartForCity = props => {\n  const city = props.data.filter(e => e.includes(props.city));\n  const data = city.map(e => [e[0], e[4]]);\n  const timeseries = new TimeSeries({\n    name: \"corona\",\n    columns: [\"index\", \"cases\"],\n    points: data.map(([d, value]) => [PondIndex.getIndexString(\"1h\", new Date(d)), value])\n  });\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 10\n    }\n  }, __jsx(Resizable, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 5\n    }\n  }, __jsx(ChartContainer, {\n    timeRange: timeseries.timerange(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 7\n    }\n  }, __jsx(ChartRow, {\n    height: \"150\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 9\n    }\n  }, __jsx(YAxis, {\n    id: \"cases\",\n    label: \"Coronavirus cases\",\n    min: 0,\n    max: timeseries.max('cases'),\n    type: \"linear\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 11\n    }\n  }), __jsx(Charts, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 11\n    }\n  }, __jsx(BarChart, {\n    axis: \"cases\",\n    columns: [\"cases\"],\n    series: timeseries,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }\n  }))))));\n};\n\nconst Index = props => {\n  return __jsx(ChartForCity, {\n    city: \"San Francisco\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 10\n    }\n  });\n};\n\nIndex.getInitialProps = async function () {\n  const res = await fetch('https://raw.githubusercontent.com/nytimes/covid-19-data/master/us-counties.csv'); // const data = await res.json();\n\n  const text = await res.text();\n  const [headings, ...data] = text.split('\\n');\n  const table = data.map(e => e.split(','));\n  const data2 = [[\"2017-01-24T00:00\", 0.01], [\"2017-01-24T01:00\", 0.13], [\"2017-01-24T02:00\", 0.07], [\"2017-01-24T03:00\", 0.04], [\"2017-01-24T04:00\", 0.33]]; // const timeseries = new TimeSeries(seriesData);\n\n  return {\n    data: table\n  };\n};\n\nexport default Index;","map":{"version":3,"sources":["/Users/mullens/corona/pages/index.tsx"],"names":["fetch","Charts","ChartContainer","ChartRow","YAxis","Resizable","BarChart","TimeSeries","Index","PondIndex","ChartForCity","props","city","data","filter","e","includes","map","timeseries","name","columns","points","d","value","getIndexString","Date","timerange","max","getInitialProps","res","text","headings","split","table","data2"],"mappings":"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","sourcesContent":["import fetch from 'isomorphic-unfetch';\nimport { Charts, ChartContainer, ChartRow, YAxis, Resizable, BarChart } from \"react-timeseries-charts\";\nimport { TimeSeries, TimeRange, Index as PondIndex } from \"pondjs\";\n\nconst ChartForCity = (props: {data: any, city: string}) => {\n  const city = props.data.filter(e => e.includes(props.city));\n  const data = city.map(e => [e[0], e[4]]);\n\n  const timeseries = new TimeSeries({\n    name: \"corona\",\n    columns: [\"index\", \"cases\"],\n    points: data.map(([d, value]) => [\n        (PondIndex.getIndexString as any)(\"1h\", new Date(d)),\n        value\n    ])\n  });\n\n  return <div>\n    <Resizable>\n      <ChartContainer timeRange={timeseries.timerange()} >\n        <ChartRow height=\"150\">\n          <YAxis\n            id=\"cases\"\n            label=\"Coronavirus cases\"\n            min={0}\n            max={timeseries.max('cases')}\n            type=\"linear\"\n          />\n          <Charts>\n            <BarChart\n              axis=\"cases\"\n              columns={[\"cases\"]}\n              series={timeseries}\n            />\n          </Charts>\n        </ChartRow>\n      </ChartContainer>\n    </Resizable>\n  </div>\n}\n\nconst Index = (props: { data: any }) => {\n  return <ChartForCity city='San Francisco' />\n}\n\nIndex.getInitialProps = async function () {\n  const res = await fetch('https://raw.githubusercontent.com/nytimes/covid-19-data/master/us-counties.csv');\n  // const data = await res.json();\n\n  const text = await res.text();\n  const [headings, ...data] = text.split('\\n');\n  const table = data.map(e => e.split(','))\n\n  const data2 = [\n    [\"2017-01-24T00:00\", 0.01],\n    [\"2017-01-24T01:00\", 0.13],\n    [\"2017-01-24T02:00\", 0.07],\n    [\"2017-01-24T03:00\", 0.04],\n    [\"2017-01-24T04:00\", 0.33],\n  ];\n\n\n  // const timeseries = new TimeSeries(seriesData);\n\n  return {\n    data: table,\n  };\n};\n\nexport default Index;"]},"metadata":{},"sourceType":"module"}