{"ast":null,"code":"var _jsxFileName = \"/Users/mullens/corona/pages/index.tsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport fetch from 'isomorphic-unfetch';\nimport { Charts, ChartContainer, ChartRow, YAxis, Resizable, BarChart } from \"react-timeseries-charts\";\nimport { TimeSeries, Index as PondIndex } from \"pondjs\";\n\nconst Index = props => {\n  const timeseries = new TimeSeries({\n    name: \"hilo_rainfall\",\n    columns: [\"index\", \"precip\"],\n    points: props.data.map(([d, value]) => [PondIndex.getIndexString(\"1h\", new Date(d)), value])\n  });\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 10\n    }\n  }, __jsx(Resizable, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 5\n    }\n  }, __jsx(ChartContainer, {\n    timeRange: timeseries.timerange(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 7\n    }\n  }, __jsx(ChartRow, {\n    height: \"150\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 9\n    }\n  }, __jsx(YAxis, {\n    id: \"rain\",\n    label: \"Rainfall (inches/hr)\",\n    min: 0,\n    max: 1.5,\n    format: \".2f\",\n    width: \"70\",\n    type: \"linear\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 11\n    }\n  }), __jsx(Charts, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 11\n    }\n  }, __jsx(BarChart, {\n    axis: \"rain\",\n    spacing: 1,\n    columns: [\"precip\"],\n    series: timeseries,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }\n  }))))), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 5\n    }\n  }, \"test\"));\n};\n\nIndex.getInitialProps = async function () {\n  const res = await fetch('https://raw.githubusercontent.com/nytimes/covid-19-data/master/us-counties.csv'); // const data = await res.json();\n\n  const text = await res.text();\n  const [headings, ...data] = text.split('\\n');\n  const table = data.filter(e => e.includes('San Francisco')).map(e => e.split(','));\n  const seriesData = {\n    name: \"traffic\",\n    columns: [\"time\", \"in\", \"out\"],\n    points: [[1400425947000, 52, 41], [1400425948000, 18, 45], [1400425949000, 26, 49], [1400425950000, 93, 81]]\n  };\n  const data2 = [[\"2017-01-24T00:00\", 0.01], [\"2017-01-24T01:00\", 0.13], [\"2017-01-24T02:00\", 0.07], [\"2017-01-24T03:00\", 0.04], [\"2017-01-24T04:00\", 0.33], [\"2017-01-24T05:00\", 0.2], [\"2017-01-24T06:00\", 0.08], [\"2017-01-24T07:00\", 0.54], [\"2017-01-24T08:00\", 0.95], [\"2017-01-24T09:00\", 1.12], [\"2017-01-24T10:00\", 0.66], [\"2017-01-24T11:00\", 0.06], [\"2017-01-24T12:00\", 0.3], [\"2017-01-24T13:00\", 0.05], [\"2017-01-24T14:00\", 0.5], [\"2017-01-24T15:00\", 0.24], [\"2017-01-24T16:00\", 0.02], [\"2017-01-24T17:00\", 0.98], [\"2017-01-24T18:00\", 0.46], [\"2017-01-24T19:00\", 0.8], [\"2017-01-24T20:00\", 0.39], [\"2017-01-24T21:00\", 0.4], [\"2017-01-24T22:00\", 0.39], [\"2017-01-24T23:00\", 0.28]]; // const timeseries = new TimeSeries(seriesData);\n\n  return {\n    data: data2\n  };\n};\n\nexport default Index;","map":{"version":3,"sources":["/Users/mullens/corona/pages/index.tsx"],"names":["fetch","Charts","ChartContainer","ChartRow","YAxis","Resizable","BarChart","TimeSeries","Index","PondIndex","props","timeseries","name","columns","points","data","map","d","value","getIndexString","Date","timerange","getInitialProps","res","text","headings","split","table","filter","e","includes","seriesData","data2"],"mappings":"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","sourcesContent":["import fetch from 'isomorphic-unfetch';\nimport { Charts, ChartContainer, ChartRow, YAxis, Resizable, BarChart } from \"react-timeseries-charts\";\nimport { TimeSeries, TimeRange, Index as PondIndex } from \"pondjs\";\n\nconst Index = (props: { data: any }) => {\n\n\nconst timeseries = new TimeSeries({\n  name: \"hilo_rainfall\",\n  columns: [\"index\", \"precip\"],\n  points: props.data.map(([d, value]) => [\n      (PondIndex.getIndexString as any)(\"1h\", new Date(d)),\n      value\n  ])\n});\n\n  return <div>\n    <Resizable>\n      <ChartContainer timeRange={timeseries.timerange()} >\n        <ChartRow height=\"150\">\n          <YAxis\n            id=\"rain\"\n            label=\"Rainfall (inches/hr)\"\n            min={0}\n            max={1.5}\n            format=\".2f\"\n            width=\"70\"\n            type=\"linear\"\n          />\n          <Charts>\n            <BarChart\n              axis=\"rain\"\n              spacing={1}\n              columns={[\"precip\"]}\n              series={timeseries}\n            />\n          </Charts>\n        </ChartRow>\n      </ChartContainer>\n    </Resizable>\n    {/* <p>{JSON.stringify(props.timeseries)}</p> */}\n    <div>test</div>\n  </div>\n}\n\nIndex.getInitialProps = async function () {\n  const res = await fetch('https://raw.githubusercontent.com/nytimes/covid-19-data/master/us-counties.csv');\n  // const data = await res.json();\n\n  const text = await res.text();\n  const [headings, ...data] = text.split('\\n');\n  const table = data.filter(e => e.includes('San Francisco')).map(e => e.split(','))\n\n\n  const seriesData = {\n    name: \"traffic\",\n    columns: [\"time\", \"in\", \"out\"],\n    points: [\n      [1400425947000, 52, 41],\n      [1400425948000, 18, 45],\n      [1400425949000, 26, 49],\n      [1400425950000, 93, 81],\n    ]\n  };\n\n\n\n  const data2 = [\n    [\"2017-01-24T00:00\", 0.01],\n    [\"2017-01-24T01:00\", 0.13],\n    [\"2017-01-24T02:00\", 0.07],\n    [\"2017-01-24T03:00\", 0.04],\n    [\"2017-01-24T04:00\", 0.33],\n    [\"2017-01-24T05:00\", 0.2],\n    [\"2017-01-24T06:00\", 0.08],\n    [\"2017-01-24T07:00\", 0.54],\n    [\"2017-01-24T08:00\", 0.95],\n    [\"2017-01-24T09:00\", 1.12],\n    [\"2017-01-24T10:00\", 0.66],\n    [\"2017-01-24T11:00\", 0.06],\n    [\"2017-01-24T12:00\", 0.3],\n    [\"2017-01-24T13:00\", 0.05],\n    [\"2017-01-24T14:00\", 0.5],\n    [\"2017-01-24T15:00\", 0.24],\n    [\"2017-01-24T16:00\", 0.02],\n    [\"2017-01-24T17:00\", 0.98],\n    [\"2017-01-24T18:00\", 0.46],\n    [\"2017-01-24T19:00\", 0.8],\n    [\"2017-01-24T20:00\", 0.39],\n    [\"2017-01-24T21:00\", 0.4],\n    [\"2017-01-24T22:00\", 0.39],\n    [\"2017-01-24T23:00\", 0.28]\n];\n\n\n  // const timeseries = new TimeSeries(seriesData);\n\n  return {\n    data: data2,\n  };\n};\n\nexport default Index;"]},"metadata":{},"sourceType":"module"}